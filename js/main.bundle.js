!function(t){var s={};function i(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=function(t,s,a){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(a,e,function(s){return t[s]}.bind(null,e));return a},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=0)}([function(t,s,i){"use strict";i.r(s);class a{constructor(t){const{parent:s,size:i}=t,a=document.createElement("canvas");s.appendChild(a),this.canvas=a;const e=a.getContext("2d");if(!e)throw"cant get canvas context";this.ctx=e,this.setSize(i)}setSize(t){this.size=t,this.canvas.width=t.width,this.canvas.height=t.height}clear(){this.ctx.clearRect(0,0,this.size.width,this.size.height)}}class e{constructor(t){this.canvas=t.canvas,this.ctx=t.canvas.ctx}render(){throw"IMPLEMENT ME"}}class r extends e{constructor(t){super(t);const{x:s,y:i,width:a,height:e,style:r}=t;this.params={x:s,y:i,width:a,height:e,style:r}}setParams(t){Object.assign(this.params,{...t})}getParams(){return{...this.params}}move({x:t,y:s}){let i=t;t<0?i=0:t>this.canvas.size.width-this.params.width&&(i=this.canvas.size.width-this.params.width);let a=s;s<0?a=0:s>this.canvas.size.height-this.params.height&&(a=this.canvas.size.height-this.params.height),this.setParams({x:i,y:a})}render(){this.ctx.fillStyle=this.params.style,this.ctx.fillRect(this.params.x,this.params.y,this.params.width,this.params.height)}}const h=3;class n extends r{constructor(t){super(t),this.params.margin=t.margin,this.diff=0,document.addEventListener("keydown",t=>{switch(t.key){case"ArrowRight":this.diff=h;break;case"ArrowLeft":this.diff=-h}}),document.addEventListener("keyup",t=>{switch(t.key){case"ArrowRight":this.diff===h&&(this.diff=0);break;case"ArrowLeft":this.diff===-h&&(this.diff=0)}})}setParams(t){Object.assign(this.params,{...t})}moveXByDiff(t){let s=this.params.x+t;const i=this.params.margin,a=this.canvas.size.width-this.params.width-this.params.margin;s<i?s=i:s>a&&(s=a),this.setParams({x:s})}render(){this.moveXByDiff(this.diff),this.ctx.fillStyle=this.params.style,this.ctx.fillRect(this.params.x,this.canvas.size.height-this.params.y,this.params.width,this.params.height)}}class c extends e{constructor(t){super(t);const{x:s,y:i,radius:a,style:e}=t;this.params={x:s,y:i,radius:a,style:e}}setParams(t){Object.assign(this.params,{...t})}getParams(){return{...this.params}}move({x:t,y:s}){let i=t;t<this.params.radius?i=this.params.radius:t>this.canvas.size.width-this.params.radius&&(i=this.canvas.size.width-this.params.radius);let a=s;s<this.params.radius?a=this.params.radius:s>this.canvas.size.height-this.params.radius&&(a=this.canvas.size.height-this.params.radius),this.setParams({x:i,y:a})}moveRandom(){const t=this.params.x+(10*Math.random()-5),s=this.params.y+(10*Math.random()-5);this.move({x:t,y:s})}render(){this.moveRandom(),this.ctx.beginPath(),this.ctx.fillStyle=this.params.style,this.ctx.arc(this.params.x,this.params.y,this.params.radius,0,2*Math.PI),this.ctx.fill()}}const o={x:3,y:3},l=-.163;class m extends c{constructor(t){super(t),this.params.margin=t.margin,this.velocity=o}setParams(t){Object.assign(this.params,{...t})}getParams(){return{...this.params}}updateVelocity(){const{x:t,y:s}=this.velocity,i=s+l;this.velocity={x:t,y:i}}moveByVelocity(){let t=this.params.x+this.velocity.x,s=this.params.y+this.velocity.y;const i=this.params.radius+this.params.margin,a=this.canvas.size.width-this.params.radius-this.params.margin,e=this.params.radius+this.params.margin,r=this.canvas.size.height-this.params.radius-this.params.margin;t<i?(t=i,this.velocity.x*=-1):t>a&&(t=a,this.velocity.x*=-1),s<e?(s=e,this.velocity.y*=-1):s>r&&(s=r,this.velocity.y*=-1),this.setParams({x:t,y:s}),this.updateVelocity()}render(){this.moveByVelocity(),this.ctx.beginPath(),this.ctx.fillStyle=this.params.style,this.ctx.arc(this.params.x,this.canvas.size.height-this.params.y,this.params.radius,0,2*Math.PI),this.ctx.fill()}}const d=3,p="rgb(64, 64, 64)";class u extends r{quarter(t,s=!0){return((t+2)%4+(s?0:1))*(2*Math.PI)/4}render(){const{ctx:t}=this,{x:s,y:i,width:a,height:e,style:r}=this.params,h=this.quarter;t.fillStyle=r,t.strokeStyle=p,t.beginPath(),t.moveTo(s+d,i),t.lineTo(s+a-d,i),t.arc(s+a-d,i+d,d,h(1),h(1,!1)),t.lineTo(s+a,i+e-d),t.arc(s+a-d,i+e-d,d,h(2),h(2,!1)),t.lineTo(s+d,i+e),t.arc(s+d,i+e-d,d,h(3),h(3,!1)),t.lineTo(s,i+d),t.arc(s+d,i+d,d,h(4),h(4,!1)),t.closePath(),t.fill(),t.stroke()}}const y=58;let f,v,g=0;!function(){const t=document.getElementById("root");t&&function({canvas:t}){const s=[];s.push(new u({canvas:t,x:(t.size.width-40)/2,y:(t.size.height-40)/2,width:40,height:40,style:"green"}),new n({canvas:t,x:(t.size.width-20)/2,y:23,width:20,height:20,margin:3,style:"red"}),new m({canvas:t,x:(t.size.width-20)/2,y:(t.size.height-20)/2,radius:20,margin:3,style:"blue"})),f=setInterval(()=>{g+=1,t.clear(),s.forEach(t=>{t.render()})},1e3/y),v=setInterval(()=>{const t=g;console.log(`FPS: ${t}`),g=0},1e3)}({canvas:new a({parent:t,size:{width:640,height:400}})})}(),document.addEventListener("keydown",t=>{"Enter"===t.key&&(clearInterval(f),clearInterval(v))})}]);